<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>KÅn AI â€” ØªØ¬Ø±Ø¨Ø© Ø°ÙƒÙŠØ©</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Noto+Naskh+Arabic:wght@300;400;500&display=swap" rel="stylesheet"/>
<style>
:root{
  --gold:#C9A84C;--gold-l:#E2C97E;--gold-dim:rgba(201,168,76,0.55);
  --bg:#141414;--surface:#1C1C1C;--card:#222222;--card2:#2A2A2A;
  --border:rgba(201,168,76,0.22);--text:#FAF3E0;--text-dim:rgba(250,243,224,0.65);
}
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:'Noto Naskh Arabic',serif;overflow-x:hidden}

/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:200;display:flex;align-items:center;justify-content:space-between;padding:18px 48px;background:rgba(20,20,20,0.96);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}
.nav-logo{font-family:'Cormorant Garamond',serif;font-size:1.5rem;font-weight:300;letter-spacing:.28em;color:var(--gold);text-decoration:none}
.nav-logo sub{font-size:.48em;letter-spacing:.12em;color:var(--gold-dim);vertical-align:middle;border-left:1px solid var(--gold-dim);border-right:1px solid var(--gold-dim);padding:0 6px;margin:0 3px}
.nav-back{font-family:'Cormorant Garamond',serif;font-size:.7rem;letter-spacing:.2em;text-transform:uppercase;color:var(--gold-dim);text-decoration:none;transition:color .3s;display:flex;align-items:center;gap:8px}
.nav-back:hover{color:var(--gold)}
.nav-ai-badge{background:linear-gradient(135deg,var(--gold),var(--gold-l));color:#000;font-family:'Cormorant Garamond',serif;font-size:.62rem;letter-spacing:.2em;text-transform:uppercase;padding:4px 12px;border-radius:0}
.mnav{display:none;position:fixed;top:0;left:0;right:0;z-index:200;background:rgba(20,20,20,.98);border-bottom:1px solid var(--border);padding:13px 18px;align-items:center;justify-content:space-between}
.mnav-logo{font-family:'Cormorant Garamond',serif;font-size:1.2rem;font-weight:300;letter-spacing:.22em;color:var(--gold)}
.mnav-logo sub{font-size:.45em;letter-spacing:.1em;color:var(--gold-dim);vertical-align:middle;border-left:1px solid var(--gold-dim);border-right:1px solid var(--gold-dim);padding:0 5px;margin:0 3px}
@media(max-width:768px){nav{display:none}.mnav{display:flex}}

/* HERO */
.ai-hero{
  min-height:100vh;display:flex;align-items:center;justify-content:center;
  padding:100px 48px 60px;position:relative;overflow:hidden;text-align:center;
}
.ai-hero::before{
  content:'';position:absolute;inset:0;
  background:
    radial-gradient(ellipse 60% 50% at 20% 50%,rgba(201,168,76,0.06),transparent),
    radial-gradient(ellipse 60% 50% at 80% 50%,rgba(201,168,76,0.06),transparent);
}
.ai-grid{position:absolute;inset:0;background-image:linear-gradient(rgba(201,168,76,0.06) 1px,transparent 1px),linear-gradient(90deg,rgba(201,168,76,0.06) 1px,transparent 1px);background-size:60px 60px;mask-image:radial-gradient(ellipse 70% 70% at 50% 50%,black,transparent)}
.hero-inner{position:relative;z-index:2;max-width:760px}
.ai-tag{display:inline-flex;align-items:center;gap:8px;padding:7px 18px;border:1px solid var(--border);font-family:'Cormorant Garamond',serif;font-size:.65rem;letter-spacing:.35em;text-transform:uppercase;color:var(--gold);margin-bottom:32px}
.ai-tag-dot{width:6px;height:6px;background:var(--gold);border-radius:50%;animation:blink 1.8s ease-in-out infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.2}}
.ai-title{font-family:'Cormorant Garamond',serif;font-size:clamp(2.5rem,7vw,5.5rem);font-weight:300;line-height:1.08;color:var(--text);margin-bottom:20px}
.ai-title em{font-style:italic;color:var(--gold)}
.ai-sub{font-size:1rem;line-height:2;color:var(--text-dim);max-width:520px;margin:0 auto 48px}
.ai-tabs{display:flex;gap:3px;justify-content:center;flex-wrap:wrap}
.ai-tab{padding:11px 24px;border:1px solid var(--border);font-family:'Cormorant Garamond',serif;font-size:.72rem;letter-spacing:.18em;text-transform:uppercase;color:var(--text-dim);background:none;cursor:pointer;transition:all .3s}
.ai-tab:hover{color:var(--text);border-color:rgba(201,168,76,0.4)}
.ai-tab.active{background:var(--gold);color:#000;border-color:var(--gold)}

/* SECTIONS */
.ai-section{display:none;padding:80px 48px;max-width:1100px;margin:0 auto}
.ai-section.active{display:block;animation:fadeUp .5s ease}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
@media(max-width:768px){.ai-section{padding:48px 18px}.ai-hero{padding:80px 18px 40px}}

/* â•â•â• 1. DESIGN ASSISTANT â•â•â• */
.da-grid{display:grid;grid-template-columns:1fr 1fr;gap:3px;margin-bottom:32px}
@media(max-width:768px){.da-grid{grid-template-columns:1fr}}
.da-q{background:var(--card);border:1px solid var(--border);padding:28px;cursor:pointer;transition:all .35s;position:relative;overflow:hidden}
.da-q::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--gold),transparent);opacity:0;transition:opacity .4s}
.da-q:hover::before,.da-q.sel::before{opacity:1}
.da-q:hover,.da-q.sel{border-color:rgba(201,168,76,0.5);background:var(--card2)}
.da-q.sel{border-color:var(--gold)}
.da-q-label{font-family:'Cormorant Garamond',serif;font-size:.58rem;letter-spacing:.35em;text-transform:uppercase;color:var(--gold-dim);margin-bottom:10px}
.da-q-title{font-family:'Cormorant Garamond',serif;font-size:1rem;font-weight:300;color:var(--text);margin-bottom:8px}
.da-opts{display:flex;flex-wrap:wrap;gap:6px;margin-top:10px}
.da-opt{padding:5px 14px;border:1px solid var(--border);font-size:.78rem;color:var(--text-dim);cursor:pointer;transition:all .25s;background:none}
.da-opt:hover,.da-opt.sel{border-color:var(--gold);color:var(--gold);background:rgba(201,168,76,0.06)}
.da-btn{width:100%;padding:15px;background:var(--gold);border:none;color:#000;font-family:'Cormorant Garamond',serif;font-size:.8rem;letter-spacing:.22em;text-transform:uppercase;cursor:pointer;transition:background .3s;margin-top:24px}
.da-btn:hover{background:var(--gold-l)}
.da-btn:disabled{opacity:.5;cursor:not-allowed}
.da-result{margin-top:24px;padding:28px;background:var(--surface);border:1px solid var(--border);display:none}
.da-result.show{display:block;animation:fadeUp .4s ease}
.da-result-title{font-family:'Cormorant Garamond',serif;font-size:.62rem;letter-spacing:.4em;text-transform:uppercase;color:var(--gold);margin-bottom:20px}
.prod-recs{display:grid;grid-template-columns:repeat(3,1fr);gap:3px}
@media(max-width:600px){.prod-recs{grid-template-columns:1fr 1fr}}
.prod-rec{background:var(--card);border:1px solid rgba(201,168,76,0.15);padding:20px;text-align:center;cursor:pointer;transition:all .3s;text-decoration:none;display:block}
.prod-rec:hover{border-color:var(--gold);transform:translateY(-2px)}
.rec-icon{font-size:2rem;margin-bottom:10px;opacity:.7}
.rec-name{font-family:'Cormorant Garamond',serif;font-size:.9rem;color:var(--text);margin-bottom:4px}
.rec-ar{font-size:.75rem;color:var(--gold-dim);margin-bottom:8px}
.rec-price{font-family:'Cormorant Garamond',serif;font-size:1.1rem;color:var(--gold)}
.ai-thinking{display:flex;align-items:center;gap:12px;padding:20px;color:var(--gold-dim);font-size:.88rem}
.think-dots span{display:inline-block;width:5px;height:5px;background:var(--gold);border-radius:50%;animation:bounce .9s ease-in-out infinite}
.think-dots span:nth-child(2){animation-delay:.15s}
.think-dots span:nth-child(3){animation-delay:.3s}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}

/* â•â•â• 2. CHAT â•â•â• */
.chat-wrap{background:var(--surface);border:1px solid var(--border);height:480px;display:flex;flex-direction:column}
.chat-head{padding:18px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px}
.chat-avatar{width:36px;height:36px;background:var(--gold);display:flex;align-items:center;justify-content:center;font-family:'Cormorant Garamond',serif;font-size:1rem;color:#000;font-weight:400;flex-shrink:0}
.chat-name{font-family:'Cormorant Garamond',serif;font-size:1rem;color:var(--text)}
.chat-status{font-size:.72rem;color:var(--gold-dim);display:flex;align-items:center;gap:5px}
.chat-status-dot{width:5px;height:5px;background:#4CAF50;border-radius:50%}
.chat-msgs{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:14px;scrollbar-width:thin;scrollbar-color:var(--border) transparent}
.msg{max-width:80%;animation:fadeUp .3s ease}
.msg.bot{align-self:flex-start}
.msg.user{align-self:flex-end}
.msg-bubble{padding:12px 16px;font-size:.9rem;line-height:1.75}
.msg.bot .msg-bubble{background:var(--card);border:1px solid var(--border);border-radius:0 12px 12px 12px;color:var(--text)}
.msg.user .msg-bubble{background:var(--gold);color:#000;border-radius:12px 0 12px 12px}
.msg-time{font-size:.62rem;color:var(--text-dim);margin-top:4px;opacity:.6}
.msg.user .msg-time{text-align:left}
.chat-quick{padding:10px 16px;border-top:1px solid var(--border);display:flex;gap:6px;overflow-x:auto;scrollbar-width:none}
.chat-quick::-webkit-scrollbar{display:none}
.qbtn{padding:6px 14px;border:1px solid var(--border);font-size:.75rem;color:var(--gold-dim);background:none;cursor:pointer;white-space:nowrap;transition:all .25s;flex-shrink:0}
.qbtn:hover{border-color:var(--gold);color:var(--gold)}
.chat-input-row{padding:14px 16px;border-top:1px solid var(--border);display:flex;gap:8px}
.chat-inp{flex:1;padding:10px 14px;background:var(--card);border:1px solid var(--border);color:var(--text);font-family:'Noto Naskh Arabic',serif;font-size:.88rem;outline:none;direction:rtl;transition:border-color .3s}
.chat-inp:focus{border-color:var(--gold)}
.chat-inp::placeholder{color:var(--text-dim)}
.chat-send{padding:10px 18px;background:var(--gold);border:none;color:#000;font-family:'Cormorant Garamond',serif;font-size:.75rem;letter-spacing:.15em;cursor:pointer;transition:background .3s;flex-shrink:0}
.chat-send:hover{background:var(--gold-l)}

/* â•â•â• 3. DESC GENERATOR â•â•â• */
.desc-gen{display:grid;grid-template-columns:1fr 1fr;gap:3px}
@media(max-width:768px){.desc-gen{grid-template-columns:1fr}}
.desc-left,.desc-right{background:var(--card);border:1px solid var(--border);padding:28px}
.desc-label{font-family:'Cormorant Garamond',serif;font-size:.6rem;letter-spacing:.4em;text-transform:uppercase;color:var(--gold);margin-bottom:16px}
.desc-inp{width:100%;padding:11px 14px;background:var(--surface);border:1px solid var(--border);color:var(--text);font-family:'Noto Naskh Arabic',serif;font-size:.88rem;outline:none;direction:rtl;transition:border-color .3s;margin-bottom:10px}
.desc-inp:focus{border-color:var(--gold)}
.desc-inp::placeholder{color:var(--text-dim)}
textarea.desc-inp{height:90px;resize:none}
.desc-sel{width:100%;padding:10px 14px;background:var(--surface);border:1px solid var(--border);color:var(--text);font-family:'Noto Naskh Arabic',serif;font-size:.85rem;outline:none;cursor:pointer;margin-bottom:10px}
.desc-sel option{background:var(--surface)}
.gen-btn{width:100%;padding:13px;background:var(--gold);border:none;color:#000;font-family:'Cormorant Garamond',serif;font-size:.75rem;letter-spacing:.2em;text-transform:uppercase;cursor:pointer;transition:background .3s;margin-top:6px}
.gen-btn:hover{background:var(--gold-l)}
.desc-output{min-height:200px;font-size:.9rem;line-height:2;color:var(--text-dim);white-space:pre-wrap;position:relative}
.desc-output.has-content{color:var(--text)}
.desc-copy{position:absolute;top:0;left:0;padding:5px 12px;border:1px solid var(--border);font-size:.62rem;font-family:'Cormorant Garamond',serif;letter-spacing:.15em;text-transform:uppercase;color:var(--gold-dim);background:none;cursor:pointer;transition:all .25s;display:none}
.desc-copy.show{display:block}
.desc-copy:hover{color:var(--gold);border-color:var(--gold)}

/* â•â•â• 4. ROOM VISUALIZER â•â•â• */
.room-wrap{display:grid;grid-template-columns:1fr 1fr;gap:3px}
@media(max-width:768px){.room-wrap{grid-template-columns:1fr}}
.room-upload{background:var(--card);border:1px solid var(--border);padding:40px 28px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;min-height:360px;position:relative;overflow:hidden}
.room-drop{border:1px dashed rgba(201,168,76,0.3);padding:48px 28px;width:100%;display:flex;flex-direction:column;align-items:center;gap:14px;cursor:pointer;transition:all .3s;position:relative}
.room-drop:hover{border-color:var(--gold);background:rgba(201,168,76,0.03)}
.room-drop input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer}
.drop-icon{font-size:2.5rem;opacity:.5}
.drop-txt{font-family:'Cormorant Garamond',serif;font-size:1rem;color:var(--text-dim)}
.drop-sub{font-size:.78rem;color:var(--gold-dim)}
.room-preview{width:100%;max-height:260px;object-fit:cover;display:none;border:1px solid var(--border)}
.room-right{background:var(--card);border:1px solid var(--border);padding:28px;display:flex;flex-direction:column}
.room-prod-sel{margin-bottom:18px}
.room-prod-opt{display:flex;align-items:center;gap:10px;padding:10px 12px;border:1px solid rgba(201,168,76,0.1);margin-bottom:6px;cursor:pointer;transition:all .25s}
.room-prod-opt:hover,.room-prod-opt.sel{border-color:var(--gold);background:rgba(201,168,76,0.05)}
.room-prod-opt input{accent-color:var(--gold);width:14px;height:14px}
.room-prod-label{font-size:.88rem;color:var(--text-dim);flex:1}
.room-prod-emoji{font-size:1.2rem}
.vis-btn{width:100%;padding:13px;background:var(--gold);border:none;color:#000;font-family:'Cormorant Garamond',serif;font-size:.75rem;letter-spacing:.2em;text-transform:uppercase;cursor:pointer;transition:background .3s;margin-top:auto}
.vis-btn:hover{background:var(--gold-l)}
.vis-btn:disabled{opacity:.4;cursor:not-allowed}
.room-result{grid-column:1/-1;background:var(--surface);border:1px solid var(--border);padding:28px;display:none}
.room-result.show{display:block;animation:fadeUp .5s ease}
.room-result-title{font-family:'Cormorant Garamond',serif;font-size:.62rem;letter-spacing:.4em;text-transform:uppercase;color:var(--gold);margin-bottom:20px}
.room-result-grid{display:grid;grid-template-columns:1fr 1fr;gap:3px}
@media(max-width:600px){.room-result-grid{grid-template-columns:1fr}}
.room-result-img{width:100%;aspect-ratio:4/3;background:var(--card);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}
.room-result-label{font-size:.75rem;color:var(--gold-dim);margin-top:8px;text-align:center}
.ai-note{margin-top:12px;padding:12px 16px;background:rgba(201,168,76,0.06);border-right:2px solid var(--gold);font-size:.8rem;color:var(--text-dim);line-height:1.8}
.ai-note strong{color:var(--gold)}

/* SECTION TITLE */
.sec-title-wrap{margin-bottom:40px}
.sec-eyebrow{font-family:'Cormorant Garamond',serif;font-size:.62rem;letter-spacing:.45em;text-transform:uppercase;color:var(--gold);margin-bottom:12px}
.sec-title{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,3rem);font-weight:300;color:var(--text);line-height:1.1}
.sec-title em{font-style:italic;color:var(--gold)}
.sec-sub{font-size:.9rem;color:var(--text-dim);margin-top:10px;line-height:1.9}

/* TOAST */
.toast{position:fixed;bottom:24px;left:50%;transform:translateX(-50%) translateY(16px);background:var(--surface);color:var(--text);padding:12px 22px;font-size:.84rem;z-index:9999;opacity:0;transition:all .35s;border:1px solid var(--border);border-right:3px solid var(--gold);white-space:nowrap}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

footer{padding:24px 48px;background:var(--card);border-top:1px solid var(--border);text-align:center;font-family:'Cormorant Garamond',serif;font-size:.68rem;letter-spacing:.12em;color:var(--text-dim)}
footer span{color:var(--gold)}
</style>
</head>
<body>

<!-- NAV -->
<nav>
  <a href="index.html" class="nav-logo">KÅŒN <sub>luxury</sub></a>
  <span class="nav-ai-badge">âœ¦ AI Experience</span>
  <a href="index.html" class="nav-back">â† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
</nav>
<div class="mnav">
  <a href="index.html" style="color:var(--gold-dim);font-size:.7rem;font-family:'Cormorant Garamond',serif;letter-spacing:.1em;text-decoration:none">â† Ø±Ø¬ÙˆØ¹</a>
  <span class="mnav-logo">KÅŒN <sub>luxury</sub></span>
  <span style="width:44px"></span>
</div>

<!-- HERO -->
<section class="ai-hero">
  <div class="ai-grid"></div>
  <div class="hero-inner">
    <div class="ai-tag"><span class="ai-tag-dot"></span> Powered by AI â€” Ù…Ø¯Ø¹ÙˆÙ… Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</div>
    <h1 class="ai-title">ØªØ¬Ø±Ø¨Ø© <em>Ø°ÙƒÙŠØ©</em><br>Ù…Ø®ØªÙ„ÙØ© ØªÙ…Ø§Ù…Ø§Ù‹</h1>
    <p class="ai-sub">Ø£Ø±Ø¨Ø¹ Ø£Ø¯ÙˆØ§Øª AI ØªØ³Ø§Ø¹Ø¯Ùƒ ØªØ®ØªØ§Ø±ÙŠØŒ ØªØµÙ…Ù‘Ù…ÙŠØŒ ÙˆØªØ´ÙˆÙÙŠ ÙƒÙŠÙ ÙŠØ¨Ø¯Ùˆ Ù…Ù†ØªØ¬ KÅn ÙÙŠ Ø¨ÙŠØªÙƒ â€” Ù‚Ø¨Ù„ Ø­ØªÙ‰ Ø£Ù† ØªØ·Ù„Ø¨ÙŠÙ‡</p>
    <div class="ai-tabs">
      <button class="ai-tab active" onclick="showSection('design')">ğŸ¨ Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„ØªØµÙ…ÙŠÙ…</button>
      <button class="ai-tab" onclick="showSection('chat')">ğŸ’¬ Ø´Ø§Øª Ù…Ø¹ KÅn</button>
      <button class="ai-tab" onclick="showSection('desc')">âœ¨ Ù…ÙˆÙ„Ù‘Ø¯ Ø§Ù„ÙˆØµÙ</button>
      <button class="ai-tab" onclick="showSection('room')">ğŸ–¼ï¸ ØºØ±ÙØªÙƒ + Ù…Ù†ØªØ¬Ù†Ø§</button>
    </div>
  </div>
</section>

<!-- â•â•â• 1. DESIGN ASSISTANT â•â•â• -->
<div class="ai-section active" id="sec-design">
  <div class="sec-title-wrap">
    <p class="sec-eyebrow">Design Assistant â€” Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„ØªØµÙ…ÙŠÙ…</p>
    <h2 class="sec-title">Ù‚ÙˆÙ„ÙŠÙ„Ù†Ø§ Ø¹Ù† <em>Ø°ÙˆÙ‚Ùƒ</em></h2>
    <p class="sec-sub">Ø£Ø¬ÙŠØ¨ÙŠ Ø¹Ù„Ù‰ 3 Ø£Ø³Ø¦Ù„Ø© Ø¨Ø³ÙŠØ·Ø© ÙˆØ§Ù„Ù€ AI ÙŠÙ‚ØªØ±Ø­ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ© Ù„ÙƒÙ</p>
  </div>

  <div class="da-grid">
    <div class="da-q">
      <div class="da-q-label">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø£ÙˆÙ„</div>
      <div class="da-q-title">Ø´Ùˆ Ø§Ù„Ø¬Ùˆ Ø§Ù„Ù„ÙŠ Ø¨ØªØ­Ø¨ÙŠÙ‡ Ø¨Ø¨ÙŠØªÙƒØŸ</div>
      <div class="da-opts" id="q1">
        <button class="da-opt" onclick="selOpt(this,'q1')">ğŸ–¤ Ù…ÙŠÙ†ÙŠÙ…Ø§Ù„ Ù‡Ø§Ø¯Ø¦</button>
        <button class="da-opt" onclick="selOpt(this,'q1')">ğŸŒ¿ Ø¯Ø§ÙØ¦ ÙˆØ·Ø¨ÙŠØ¹ÙŠ</button>
        <button class="da-opt" onclick="selOpt(this,'q1')">âœ¨ ÙØ§Ø®Ø± ÙˆÙƒÙ„Ø§Ø³ÙŠÙƒ</button>
        <button class="da-opt" onclick="selOpt(this,'q1')">ğŸ¨ Ø¨ÙˆÙ‡ÙŠÙ…ÙŠ Ù…Ø¨Ø¯Ø¹</button>
      </div>
    </div>
    <div class="da-q">
      <div class="da-q-label">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø«Ø§Ù†ÙŠ</div>
      <div class="da-q-title">Ø´Ùˆ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©ØŸ</div>
      <div class="da-opts" id="q2">
        <button class="da-opt" onclick="selOpt(this,'q2')">ğŸ  Ø¯ÙŠÙƒÙˆØ± Ø¨ÙŠØªÙŠ</button>
        <button class="da-opt" onclick="selOpt(this,'q2')">ğŸ Ù‡Ø¯ÙŠØ© ÙØ§Ø®Ø±Ø©</button>
        <button class="da-opt" onclick="selOpt(this,'q2')">ğŸ’ Ù…Ù†Ø§Ø³Ø¨Ø© Ø®Ø§ØµØ©</button>
        <button class="da-opt" onclick="selOpt(this,'q2')">ğŸ¢ Ù…ÙƒØªØ¨ Ø£Ùˆ Ø¹Ù…Ù„</button>
      </div>
    </div>
    <div class="da-q">
      <div class="da-q-label">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø«Ø§Ù„Ø«</div>
      <div class="da-q-title">Ø´Ùˆ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø³Ø§Ø¦Ø¯Ø© Ø¹Ù†Ø¯ÙƒØŸ</div>
      <div class="da-opts" id="q3">
        <button class="da-opt" onclick="selOpt(this,'q3')">â¬› Ø£Ø³ÙˆØ¯ ÙˆØ±Ù…Ø§Ø¯ÙŠ</button>
        <button class="da-opt" onclick="selOpt(this,'q3')">ğŸ¤ Ø£Ø¨ÙŠØ¶ ÙˆØ¨ÙŠØ¬</button>
        <button class="da-opt" onclick="selOpt(this,'q3')">ğŸŸ« Ø®Ø´Ø¨ÙŠ ÙˆØ·ÙŠÙ†ÙŠ</button>
        <button class="da-opt" onclick="selOpt(this,'q3')">ğŸ’š Ø£Ø®Ø¶Ø± ÙˆÙ†Ø¨Ø§ØªÙŠ</button>
      </div>
    </div>
    <div class="da-q">
      <div class="da-q-label">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø¹</div>
      <div class="da-q-title">Ø´Ùˆ Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒØŸ</div>
      <div class="da-opts" id="q4">
        <button class="da-opt" onclick="selOpt(this,'q4')">â‚ª 100 â€“ 200</button>
        <button class="da-opt" onclick="selOpt(this,'q4')">â‚ª 200 â€“ 300</button>
        <button class="da-opt" onclick="selOpt(this,'q4')">â‚ª 300+</button>
        <button class="da-opt" onclick="selOpt(this,'q4')">ğŸ Ø·Ù‚Ù… Ù‡Ø¯Ø§ÙŠØ§</button>
      </div>
    </div>
  </div>

  <button class="da-btn" id="daBtn" onclick="runDesignAI()" disabled>âœ¦ Ø§Ù‚ØªØ±Ø­ÙŠÙ„ÙŠ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</button>

  <div class="da-result" id="daResult">
    <div class="da-result-title">Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª AI Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø°ÙˆÙ‚Ùƒ</div>
    <div class="prod-recs" id="prodsRec"></div>
  </div>
</div>

<!-- â•â•â• 2. CHAT â•â•â• -->
<div class="ai-section" id="sec-chat">
  <div class="sec-title-wrap">
    <p class="sec-eyebrow">Chat with KÅn â€” Ø´Ø§Øª Ù…Ø¹ KÅn</p>
    <h2 class="sec-title">Ø§Ø³Ø£Ù„ÙŠÙ†ÙŠ <em>Ø£ÙŠ Ø´ÙŠØ¡</em></h2>
    <p class="sec-sub">Ø¨ÙˆØª KÅn Ø§Ù„Ø°ÙƒÙŠ ÙŠØ¬Ø§ÙˆØ¨Ùƒ Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§ØªØŒ Ø§Ù„ØªÙˆØµÙŠÙ„ØŒ Ø§Ù„ØªØ®ØµÙŠØµØŒ ÙˆØ§Ù„Ù‡Ø¯Ø§ÙŠØ§</p>
  </div>
  <div class="chat-wrap">
    <div class="chat-head">
      <div class="chat-avatar">K</div>
      <div>
        <div class="chat-name">KÅn Assistant</div>
        <div class="chat-status"><span class="chat-status-dot"></span> Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†</div>
      </div>
    </div>
    <div class="chat-msgs" id="chatMsgs">
      <div class="msg bot">
        <div class="msg-bubble">Ø£Ù‡Ù„Ø§Ù‹! Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ KÅn Luxury ğŸ–¤<br>ÙƒÙŠÙ Ø£Ù‚Ø¯Ø± Ø£Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ Ø³ÙˆØ§Ø¡ Ø¹Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§ØªØŒ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±ØŒ Ø§Ù„ØªÙˆØµÙŠÙ„ØŒ Ø£Ùˆ Ù‡Ø¯ÙŠØ© Ù…Ù…ÙŠØ²Ø© â€” Ø£Ù†Ø§ Ù‡Ù†Ø§!</div>
        <div class="msg-time">Ø§Ù„Ø¢Ù†</div>
      </div>
    </div>
    <div class="chat-quick">
      <button class="qbtn" onclick="quickMsg('Ø´Ùˆ Ø£Ø±Ø®Øµ Ù…Ù†ØªØ¬ Ø¹Ù†Ø¯ÙƒÙ…ØŸ')">ğŸ·ï¸ Ø£Ø±Ø®Øµ Ù…Ù†ØªØ¬</button>
      <button class="qbtn" onclick="quickMsg('ÙƒÙŠÙ ÙŠØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„ØŸ')">ğŸšš Ø§Ù„ØªÙˆØµÙŠÙ„</button>
      <button class="qbtn" onclick="quickMsg('Ø¨Ø¯ÙŠ Ù‡Ø¯ÙŠØ© Ù„ØµØ§Ø­Ø¨ØªÙŠ Ø¨Ù€ 200 Ø´ÙŠÙƒÙ„')">ğŸ Ù‡Ø¯ÙŠØ©</button>
      <button class="qbtn" onclick="quickMsg('Ø´Ùˆ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ø´Ù…ÙˆØ¹ Ø¹Ù†Ø¯ÙƒÙ…ØŸ')">ğŸ•¯ï¸ Ø§Ù„Ø´Ù…ÙˆØ¹</button>
      <button class="qbtn" onclick="quickMsg('Ù…Ù…ÙƒÙ† Ø£Ø·Ù„Ø¨ ØªØ®ØµÙŠØµØŸ')">âœ¨ ØªØ®ØµÙŠØµ</button>
    </div>
    <div class="chat-input-row">
      <input class="chat-inp" id="chatInp" placeholder="Ø§ÙƒØªØ¨ÙŠ Ø³Ø¤Ø§Ù„Ùƒ Ù‡Ù†Ø§..." onkeydown="if(event.key==='Enter')sendChat()"/>
      <button class="chat-send" onclick="sendChat()">Ø¥Ø±Ø³Ø§Ù„ â†’</button>
    </div>
  </div>
</div>

<!-- â•â•â• 3. DESC GENERATOR â•â•â• -->
<div class="ai-section" id="sec-desc">
  <div class="sec-title-wrap">
    <p class="sec-eyebrow">Description Generator â€” Ù„Ù„Ø£Ø¯Ù…Ù†</p>
    <h2 class="sec-title">ÙˆØµÙ Ù…Ù†ØªØ¬ <em>Ø§Ø­ØªØ±Ø§ÙÙŠ</em> Ø¨Ø«Ø§Ù†ÙŠØ©</h2>
    <p class="sec-sub">Ø§ÙƒØªØ¨ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø¨Ø³ÙŠØ·Ø© ÙˆØ§Ù„Ù€ AI ÙŠÙƒØªØ¨ Ø§Ù„ÙˆØµÙ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ</p>
  </div>
  <div class="desc-gen">
    <div class="desc-left">
      <div class="desc-label">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬</div>
      <input class="desc-inp" id="dName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ (Ù…Ø«Ø§Ù„: Ø´Ù…Ø¹Ø© Obsidian)"/>
      <select class="desc-sel" id="dCat">
        <option value="">Ø§Ù„ÙØ¦Ø©...</option>
        <option>Ø´Ù…ÙˆØ¹ ÙØ§Ø®Ø±Ø©</option>
        <option>ØªÙŠØ±Ø§ØªØ²Ùˆ</option>
        <option>ÙØ®Ø§Ø± Ù„Ù„Ø¯ÙŠÙƒÙˆØ±</option>
        <option>ÙƒÙˆÙ†ÙƒØ±ÙŠØª ÙˆØ¬ÙŠØ³Ù…ÙˆÙ†ÙŠØª</option>
        <option>Ø±Ø§ØªÙ†Ø¬ ÙˆØ¥ÙŠØ¨ÙˆÙƒØ³ÙŠ</option>
      </select>
      <input class="desc-inp" id="dMat" placeholder="Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© (Ù…Ø«Ø§Ù„: Ø´Ù…Ø¹ Ø§Ù„ØµÙˆÙŠØ§ØŒ Ø¹ÙˆØ¯)"/>
      <input class="desc-inp" id="dPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± (Ù…Ø«Ø§Ù„: â‚ª185)"/>
      <textarea class="desc-inp" id="dNotes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)..."></textarea>
      <select class="desc-sel" id="dTone">
        <option value="luxury">ÙØ§Ø®Ø± ÙˆØ±Ø³Ù…ÙŠ</option>
        <option value="warm">Ø¯Ø§ÙØ¦ ÙˆÙ‚ØµØµÙŠ</option>
        <option value="short">Ù…Ø®ØªØµØ± ÙˆÙ‚ÙˆÙŠ</option>
      </select>
      <button class="gen-btn" onclick="runDescAI()">âœ¦ Ø§ÙƒØªØ¨ Ø§Ù„ÙˆØµÙ Ø¨Ø§Ù„Ù€ AI</button>
    </div>
    <div class="desc-right">
      <div class="desc-label">Ø§Ù„ÙˆØµÙ Ø§Ù„Ù…ÙÙˆÙ„ÙÙ‘Ø¯</div>
      <div class="desc-output" id="descOut">Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„ÙˆØµÙ Ù‡Ù†Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø±...</div>
      <button class="desc-copy" id="descCopyBtn" onclick="copyDesc()">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„ÙˆØµÙ</button>
    </div>
  </div>
</div>

<!-- â•â•â• 4. ROOM VISUALIZER â•â•â• -->
<div class="ai-section" id="sec-room">
  <div class="sec-title-wrap">
    <p class="sec-eyebrow">Room Visualizer â€” Ø´ÙˆÙÙŠ Ù‚Ø¨Ù„ ØªØ·Ù„Ø¨ÙŠ</p>
    <h2 class="sec-title">ØºØ±ÙØªÙƒ + <em>Ù…Ù†ØªØ¬Ù†Ø§</em></h2>
    <p class="sec-sub">Ø§Ø±ÙØ¹ÙŠ ØµÙˆØ±Ø© ØºØ±ÙØªÙƒ ÙˆØ§Ø®ØªØ§Ø±ÙŠ Ù…Ù†ØªØ¬ â€” Ø§Ù„Ù€ AI ÙŠØ­Ø· Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠÙ‡Ø§ ÙˆÙŠØ±ÙŠÙƒÙ ÙƒÙŠÙ Ø³ÙŠØ¨Ø¯Ùˆ</p>
  </div>
  <div class="room-wrap">
    <div class="room-upload">
      <div class="room-drop" id="dropZone">
        <input type="file" accept="image/*" onchange="handleImg(this)"/>
        <div class="drop-icon">ğŸ“·</div>
        <div class="drop-txt">Ø§Ø±ÙØ¹ÙŠ ØµÙˆØ±Ø© ØºØ±ÙØªÙƒ</div>
        <div class="drop-sub">PNG, JPG â€” Ø­ØªÙ‰ 10MB</div>
      </div>
      <img id="roomPreview" class="room-preview" alt="preview"/>
    </div>
    <div class="room-right">
      <div class="desc-label" style="margin-bottom:16px">Ø§Ø®ØªØ§Ø±ÙŠ Ø§Ù„Ù…Ù†ØªØ¬</div>
      <div class="room-prod-sel" id="roomProds">
        <label class="room-prod-opt"><input type="radio" name="rp" value="mirage"/>  <span class="room-prod-emoji">ğŸ•¯ï¸</span><span class="room-prod-label">Mirage â€” Vanta</span></label>
        <label class="room-prod-opt"><input type="radio" name="rp" value="vesper"/>  <span class="room-prod-emoji">ğŸ•¯ï¸</span><span class="room-prod-label">Vesper â€” Veil</span></label>
        <label class="room-prod-opt"><input type="radio" name="rp" value="eclipse"/> <span class="room-prod-emoji">ğŸ•¯ï¸</span><span class="room-prod-label">Eclipse â€” Shadow</span></label>
        <label class="room-prod-opt"><input type="radio" name="rp" value="nocturne"/><span class="room-prod-emoji">ğŸ•¯ï¸</span><span class="room-prod-label">Nocturne â€” Shadow</span></label>
        <label class="room-prod-opt"><input type="radio" name="rp" value="onyx"/>    <span class="room-prod-emoji">ğŸ•¯ï¸</span><span class="room-prod-label">Onyx â€” Obsidian</span></label>
        <label class="room-prod-opt"><input type="radio" name="rp" value="aurora"/>  <span class="room-prod-emoji">ğŸ•¯ï¸</span><span class="room-prod-label">Aurora â€” Lumi</span></label>
        <label class="room-prod-opt"><input type="radio" name="rp" value="ember"/>   <span class="room-prod-emoji">ğŸ•¯ï¸</span><span class="room-prod-label">Ember â€” Obsidian</span></label>
      </div>
      <div class="ai-note">
        <strong>ÙƒÙŠÙ ÙŠØ´ØªØºÙ„ØŸ</strong><br>
        Ø§Ù„Ù€ AI ÙŠØ­Ù„Ù„ Ø£Ù„ÙˆØ§Ù† ÙˆØ£Ø³Ù„ÙˆØ¨ ØºØ±ÙØªÙƒØŒ Ø«Ù… ÙŠÙØ¯Ù…Ø¬ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ø®ØªØ§Ø± ÙÙŠÙ‡Ø§ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø·Ø¨ÙŠØ¹ÙŠØ©. Ø§Ù„Ù†ØªÙŠØ¬Ø© Ù„ÙŠØ³Øª Ù…Ø«Ø§Ù„ÙŠØ© 100% â€” Ù„ÙƒÙ†Ù‡Ø§ ØªØ¹Ø·ÙŠÙƒÙ ÙÙƒØ±Ø© ÙˆØ§Ø¶Ø­Ø© ÙƒÙŠÙ Ø³ÙŠØ¨Ø¯Ùˆ Ø§Ù„Ù…Ù†ØªØ¬ Ø¹Ù†Ø¯Ùƒ.
      </div>
      <button class="vis-btn" id="visBtn" onclick="runRoomAI()" disabled>âœ¦ Ø´ÙˆÙÙŠ Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ ØºØ±ÙØªÙƒ</button>
    </div>
    <div class="room-result" id="roomResult">
      <div class="room-result-title">Ø§Ù„Ù†ØªÙŠØ¬Ø© â€” Ù‚Ø¨Ù„ ÙˆØ¨Ø¹Ø¯</div>
      <div class="room-result-grid">
        <div>
          <div class="room-result-img" id="beforeImg"><span style="color:var(--text-dim);font-size:.85rem">ØµÙˆØ±ØªÙƒ Ø§Ù„Ø£ØµÙ„ÙŠØ©</span></div>
          <div class="room-result-label">Ù‚Ø¨Ù„ â€” ØºØ±ÙØªÙƒ</div>
        </div>
        <div>
          <div class="room-result-img" id="afterImg" style="position:relative;overflow:hidden"></div>
          <div class="room-result-label">Ø¨Ø¹Ø¯ â€” Ù…Ø¹ Ù…Ù†ØªØ¬ KÅn</div>
        </div>
      </div>
      <div class="ai-note" style="margin-top:16px">
        <strong>âœ¦ ØªÙˆØµÙŠØ© AI:</strong> <span id="aiRoomRec">Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£Ù„ÙˆØ§Ù† ØºØ±ÙØªÙƒØŒ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ù…Ø®ØªØ§Ø± ÙŠÙ†Ø§Ø³Ø¨Ù‡Ø§ ØªÙ…Ø§Ù…Ø§Ù‹!</span>
      </div>
      <div style="margin-top:16px;display:flex;gap:10px;flex-wrap:wrap">
        <a href="products.html" style="display:inline-block;padding:12px 28px;background:var(--gold);color:#000;font-family:'Cormorant Garamond',serif;font-size:.75rem;letter-spacing:.2em;text-transform:uppercase;text-decoration:none">Ø§Ø·Ù„Ø¨ÙŠÙ‡ Ø§Ù„Ø¢Ù†</a>
        <button onclick="document.getElementById('roomResult').classList.remove('show')" style="padding:12px 28px;border:1px solid var(--border);background:none;color:var(--gold-dim);font-family:'Cormorant Garamond',serif;font-size:.75rem;letter-spacing:.2em;text-transform:uppercase;cursor:pointer">Ø¬Ø±Ø¨ÙŠ Ù…Ù†ØªØ¬ Ø«Ø§Ù†ÙŠ</button>
      </div>
    </div>
  </div>
</div>

<div class="toast" id="toastEl"></div>
<footer>Â© 2025 <span>KÅn Luxury</span> â€” AI Experience âœ¦ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</footer>

<script>
// â”€â”€ TABS â”€â”€
function showSection(id) {
  document.querySelectorAll('.ai-section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.ai-tab').forEach(t => t.classList.remove('active'));
  document.getElementById('sec-' + id).classList.add('active');
  event.target.classList.add('active');
  window.scrollTo({top: document.querySelector('.ai-hero').offsetHeight - 80, behavior:'smooth'});
}

// â”€â”€ DESIGN ASSISTANT â”€â”€
const answers = {};
function selOpt(btn, q) {
  document.querySelectorAll(`#${q} .da-opt`).forEach(b => b.classList.remove('sel'));
  btn.classList.add('sel');
  answers[q] = btn.textContent.trim();
  document.getElementById('daBtn').disabled = Object.keys(answers).length < 2;
}

const allProds = [
  {id:1,en:'Obsidian Pillar Candle',ar:'Ø´Ù…Ø¹Ø© Obsidian',cat:'candle',price:185,icon:'ğŸ•¯ï¸',tags:['Ù…ÙŠÙ†ÙŠÙ…Ø§Ù„','ÙØ§Ø®Ø±','Ø£Ø³ÙˆØ¯','Ù‡Ø¯ÙŠØ©','Ø¯ÙŠÙƒÙˆØ±']},
  {id:2,en:'Marble White Candle',ar:'Ø´Ù…Ø¹Ø© Marble Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡',cat:'candle',price:165,icon:'ğŸ•¯ï¸',tags:['Ø£Ø¨ÙŠØ¶','Ù‡Ø§Ø¯Ø¦','Ø·Ø¨ÙŠØ¹ÙŠ','Ø¯ÙŠÙƒÙˆØ±']},
  {id:3,en:'Amber Glow Set',ar:'Ø·Ù‚Ù… Amber Ø§Ù„Ø°Ù‡Ø¨ÙŠ',cat:'candle',price:240,icon:'ğŸ•¯ï¸',tags:['Ù‡Ø¯ÙŠØ©','Ù…Ù†Ø§Ø³Ø¨Ø©','ÙØ§Ø®Ø±','Ø·Ù‚Ù…']},
  {id:4,en:'Terrazzo Large Dish',ar:'ØµØ­Ù† ØªÙŠØ±Ø§ØªØ²Ùˆ ÙƒØ¨ÙŠØ±',cat:'terrazzo',price:220,icon:'ğŸª¨',tags:['Ù…ÙŠÙ†ÙŠÙ…Ø§Ù„','Ø±Ù…Ø§Ø¯ÙŠ','Ø¯ÙŠÙƒÙˆØ±','Ø®Ø´Ø¨ÙŠ']},
  {id:6,en:'Terrazzo Coasters Set',ar:'ÙƒÙˆØ³ØªØ±Ø§Øª ØªÙŠØ±Ø§ØªØ²Ùˆ',cat:'terrazzo',price:160,icon:'ğŸª¨',tags:['Ù‡Ø¯ÙŠØ©','Ø¯ÙŠÙƒÙˆØ±','Ø¨Ø³ÙŠØ·']},
  {id:7,en:'Tall Pottery Vase',ar:'Ù…Ø²Ù‡Ø±ÙŠØ© ÙØ®Ø§Ø± Ø·ÙˆÙŠÙ„Ø©',cat:'pottery',price:280,icon:'ğŸº',tags:['Ø¨ÙˆÙ‡ÙŠÙ…ÙŠ','Ø·Ø¨ÙŠØ¹ÙŠ','Ø®Ø´Ø¨ÙŠ','Ø¯ÙŠÙƒÙˆØ±']},
  {id:9,en:'Concrete Candle Holder',ar:'Ø´Ù…Ø¹Ø¯Ø§Ù† ÙƒÙˆÙ†ÙƒØ±ÙŠØª',cat:'concrete',price:150,icon:'ğŸ”©',tags:['Ù…ÙŠÙ†ÙŠÙ…Ø§Ù„','Ø±Ù…Ø§Ø¯ÙŠ','Ù…ÙƒØªØ¨','Ø¨Ø³ÙŠØ·']},
  {id:11,en:'Resin Coaster Set',ar:'ÙƒÙˆØ³ØªØ±Ø§Øª Ø±Ø§ØªÙ†Ø¬',cat:'resin',price:200,icon:'ğŸ’',tags:['Ù‡Ø¯ÙŠØ©','Ù…Ù†Ø§Ø³Ø¨Ø©','ÙØ§Ø®Ø±','Ø¨ÙˆÙ‡ÙŠÙ…ÙŠ']},
  {id:12,en:'Epoxy Wave Tray',ar:'ØµÙŠÙ†ÙŠØ© Ø¥ÙŠØ¨ÙˆÙƒØ³ÙŠ Ù…ÙˆØ¬Ø©',cat:'resin',price:260,icon:'ğŸ’',tags:['ÙØ§Ø®Ø±','Ù…Ù†Ø§Ø³Ø¨Ø©','Ù‡Ø¯ÙŠØ©','Ù…Ø¨Ø¯Ø¹']},
];

function runDesignAI() {
  const btn = document.getElementById('daBtn');
  btn.disabled = true;
  btn.textContent = 'âŸ³ Ø§Ù„Ù€ AI ÙŠÙÙƒØ±...';
  const res = document.getElementById('daResult');
  res.classList.remove('show');
  res.style.display = 'block';
  res.innerHTML = '<div class="ai-thinking"><div class="think-dots"><span></span><span></span><span></span></div> Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø°ÙˆÙ‚Ùƒ ÙˆØ§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©...</div>';

  setTimeout(() => {
    const allAnswers = Object.values(answers).join(' ');
    let scored = allProds.map(p => {
      let score = 0;
      p.tags.forEach(t => { if(allAnswers.includes(t)) score += 2; });
      // price filter
      if(allAnswers.includes('100 â€“ 200') && p.price <= 200) score += 3;
      if(allAnswers.includes('200 â€“ 300') && p.price > 200 && p.price <= 300) score += 3;
      if(allAnswers.includes('300+') && p.price > 300) score += 3;
      if(allAnswers.includes('Ø·Ù‚Ù…') && p.ar.includes('Ø·Ù‚Ù…')) score += 3;
      return {...p, score};
    }).sort((a,b) => b.score - a.score).slice(0,3);

    if(scored.every(p => p.score === 0)) scored = allProds.slice(0,3);

    document.getElementById('prodsRec').innerHTML = scored.map(p => `
      <a href="products.html" class="prod-rec">
        <div class="rec-icon">${p.icon}</div>
        <div class="rec-name">${p.en}</div>
        <div class="rec-ar">${p.ar}</div>
        <div class="rec-price">â‚ª ${p.price}</div>
      </a>
    `).join('');

    res.innerHTML = `<div class="da-result-title">âœ¦ Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª AI Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø°ÙˆÙ‚Ùƒ</div><div class="prod-recs" id="prodsRec">${scored.map(p=>`<a href="products.html" class="prod-rec"><div class="rec-icon">${p.icon}</div><div class="rec-name">${p.en}</div><div class="rec-ar">${p.ar}</div><div class="rec-price">â‚ª ${p.price}</div></a>`).join('')}</div>`;
    res.classList.add('show');
    btn.disabled = false;
    btn.textContent = 'âœ¦ Ø¬Ø±Ø¨ÙŠ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©';
  }, 2200);
}

// â”€â”€ CHAT â”€â”€
const botReplies = {
  'ØªÙˆØµÙŠÙ„': 'Ø§Ù„ØªÙˆØµÙŠÙ„ Ù…ØªØ§Ø­ Ù„ÙƒÙ„ Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø¯Ø§Ø®Ù„ Ø§Ù„ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ ğŸšš Ø§Ù„Ø³Ø¹Ø± â‚ª25 Ø¹Ù„Ù‰ ÙƒÙ„ Ø·Ù„Ø¨. Ø¹Ø§Ø¯Ø©Ù‹ ÙŠÙˆØµÙ„ Ø®Ù„Ø§Ù„ 2-3 Ø£ÙŠØ§Ù….',
  'Ø³Ø¹Ø±': 'Ø£Ø³Ø¹Ø§Ø±Ù†Ø§ ØªØ¨Ø¯Ø£ Ù…Ù† â‚ª150 Ù„Ù„Ø´Ù…Ø¹Ø¯Ø§Ù† Ø§Ù„ÙƒÙˆÙ†ÙƒØ±ÙŠØª ÙˆØªØµÙ„ Ù„Ù€â‚ª280 Ù„Ù„Ù…Ø²Ù‡Ø±ÙŠØ© Ø§Ù„ÙØ®Ø§Ø±ÙŠØ©. ÙƒÙ„ Ù‚Ø·Ø¹Ø© Ù…ØµÙ†ÙˆØ¹Ø© Ø¨Ø§Ù„ÙŠØ¯!',
  'Ø£Ø±Ø®Øµ': 'Ø£Ø±Ø®Øµ Ù…Ù†ØªØ¬ Ø¹Ù†Ø¯Ù†Ø§ Ù‡Ùˆ Ø´Ù…Ø¹Ø¯Ø§Ù† Ø§Ù„ÙƒÙˆÙ†ÙƒØ±ÙŠØª Ø¨Ù€â‚ª150 ğŸ”© ÙˆÙƒÙˆØ³ØªØ±Ø§Øª Ø§Ù„ØªÙŠØ±Ø§ØªØ²Ùˆ Ø¨Ù€â‚ª160 ğŸª¨',
  'Ù‡Ø¯ÙŠØ©': 'Ù„Ù„Ù‡Ø¯Ø§ÙŠØ§ØŒ Ø£Ù†ØµØ­Ùƒ Ø¨Ø·Ù‚Ù… Amber Glow (â‚ª240) ğŸ•¯ï¸ Ø£Ùˆ ÙƒÙˆØ³ØªØ±Ø§Øª Ø§Ù„Ø±Ø§ØªÙ†Ø¬ (â‚ª200) ğŸ’ â€” Ø§Ù„ØªØºÙ„ÙŠÙ Ø§Ù„ÙØ§Ø®Ø± Ù…Ø¬Ø§Ù†ÙŠ Ù…Ø¹ Ø±Ø³Ø§Ù„Ø© Ø´Ø®ØµÙŠØ©!',
  'Ø´Ù…ÙˆØ¹': 'Ø¹Ù†Ø¯Ù†Ø§ 3 Ø´Ù…ÙˆØ¹ ÙØ§Ø®Ø±Ø©: Obsidian Ø§Ù„Ø£Ø³ÙˆØ¯ (â‚ª185)ØŒ Marble Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ (â‚ª165)ØŒ ÙˆØ·Ù‚Ù… Amber (â‚ª240). ÙƒÙ„Ù‡Ø§ Ù…Ù† Ø´Ù…Ø¹ ØµÙˆÙŠØ§ Ø·Ø¨ÙŠØ¹ÙŠ ÙˆØªØ¯ÙˆÙ… +40 Ø³Ø§Ø¹Ø©.',
  'ØªØ®ØµÙŠØµ': 'Ø£ÙŠÙˆÙ‡! Ù†Ù‚Ø¨Ù„ Ø·Ù„Ø¨Ø§Øª ØªØ®ØµÙŠØµ ÙƒØ§Ù…Ù„Ø© ğŸ¨ Ù„ÙˆÙ†ØŒ Ø­Ø¬Ù…ØŒ Ø±Ø§Ø¦Ø­Ø©ØŒ Ù†Øµ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬ â€” ØªÙˆØ§ØµÙ„ÙŠ Ù…Ø¹Ù†Ø§ Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØ¨Ù†Ø­ÙƒÙŠ.',
  'Ù…ÙˆØ§Ø¯': 'Ù…ÙˆØ§Ø¯ Ø·Ø¨ÙŠØ¹ÙŠØ© 100%: Ø´Ù…Ø¹ ØµÙˆÙŠØ§ØŒ Ø±Ø®Ø§Ù… Ø£ØµÙ„ÙŠØŒ Ø·ÙŠÙ† ÙØ®Ø§Ø± Ø®Ø§Ù„ØµØŒ ÙƒÙˆÙ†ÙƒØ±ÙŠØªØŒ ÙˆØ±Ø§ØªÙ†Ø¬ Ø¥ÙŠØ¨ÙˆÙƒØ³ÙŠ. Ø¨Ù„Ø§ Ù…ÙˆØ§Ø¯ Ø±Ø®ÙŠØµØ© Ø£Ø¨Ø¯Ø§Ù‹.',
  'ÙØ®Ø§Ø±': 'Ù…Ø²Ù‡Ø±ÙŠØ© Ø§Ù„ÙØ®Ø§Ø± Ø§Ù„Ø·ÙˆÙŠÙ„Ø© (â‚ª280) ğŸº ÙˆØ·Ù‚Ù… Ø§Ù„ÙØ®Ø§Ø± Ø§Ù„Ù…ÙŠÙ†ÙŠ (â‚ª220) â€” Ù…ØµÙ†ÙˆØ¹Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ù† Ø·ÙŠÙ† Ø·Ø¨ÙŠØ¹ÙŠ Ø¨Ù„ÙˆÙ† Ø§Ù„Ø£Ø±Ø¶.',
  'default': 'Ø´ÙƒØ±Ø§Ù‹ Ø¹Ù„Ù‰ Ø³Ø¤Ø§Ù„Ùƒ! Ù„Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£Ùˆ Ø·Ù„Ø¨ Ù…Ø®ØµØµØŒ ØªÙˆØ§ØµÙ„ÙŠ Ù…Ø¹Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨ ğŸ’¬ Ø£Ùˆ ØªØµÙØ­ÙŠ Ù…Ø¬Ù…ÙˆØ¹Ø§ØªÙ†Ø§ <a href="products.html" style="color:var(--gold)">Ù…Ù† Ù‡Ù†Ø§</a>.'
};

function addMsg(text, role) {
  const el = document.createElement('div');
  el.className = `msg ${role}`;
  const now = new Date().toLocaleTimeString('ar', {hour:'2-digit',minute:'2-digit'});
  el.innerHTML = `<div class="msg-bubble">${text}</div><div class="msg-time">${now}</div>`;
  document.getElementById('chatMsgs').appendChild(el);
  document.getElementById('chatMsgs').scrollTop = 9999;
}

function getBotReply(msg) {
  for(const [key, val] of Object.entries(botReplies)) {
    if(key !== 'default' && msg.includes(key)) return val;
  }
  return botReplies.default;
}

function sendChat() {
  const inp = document.getElementById('chatInp');
  const msg = inp.value.trim();
  if(!msg) return;
  addMsg(msg, 'user');
  inp.value = '';
  setTimeout(() => {
    const typing = document.createElement('div');
    typing.className = 'msg bot';
    typing.id = 'typing';
    typing.innerHTML = '<div class="msg-bubble"><div class="think-dots"><span></span><span></span><span></span></div></div>';
    document.getElementById('chatMsgs').appendChild(typing);
    document.getElementById('chatMsgs').scrollTop = 9999;
    setTimeout(() => {
      document.getElementById('typing')?.remove();
      addMsg(getBotReply(msg), 'bot');
    }, 1200);
  }, 400);
}

function quickMsg(txt) {
  document.getElementById('chatInp').value = txt;
  sendChat();
}

// â”€â”€ DESC GENERATOR â”€â”€
const descTemplates = {
  luxury: (n,c,m,p,notes) => `âœ¦ ${n}\n\n${n} â€” Ù‚Ø·Ø¹Ø© Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹Ø© ${c} Ø§Ù„ÙØ§Ø®Ø±Ø© ÙÙŠ KÅn Luxury. Ù…ØµÙ†ÙˆØ¹Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ù† ${m}ØŒ Ø¨ØªØµÙ…ÙŠÙ… Ø­ØµØ±ÙŠ Ù„Ø§ ÙŠØªÙƒØ±Ø±.\n\nÙƒÙ„ ØªÙØµÙŠÙ„Ø© ÙÙŠÙ‡Ø§ ØªØ­ÙƒÙŠ Ù‚ØµØ© Ù…Ù† Ø§Ù„Ø¥ØªÙ‚Ø§Ù† ÙˆØ§Ù„Ø¬Ù…Ø§Ù„. ${notes ? notes + '\n\n' : ''}Ø§Ù„Ø³Ø¹Ø±: ${p} â€” ÙŠØ´Ù…Ù„ ØªØºÙ„ÙŠÙ ÙØ§Ø®Ø± ÙˆØªÙˆØµÙŠÙ„ Ù„ÙƒÙ„ Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø¯Ø§Ø®Ù„ Ø§Ù„ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ.\n\nâ€”\n\n${n} â€” A piece from KÅn Luxury's ${c} collection. Handcrafted from ${m}, each piece is a unique work of art.`,
  warm: (n,c,m,p,notes) => `"${n}" ğŸ–¤\n\nÙÙŠ KÅnØŒ Ù„Ø§ Ù†ØµÙ†Ø¹ Ù…Ù†ØªØ¬Ø§Øª â€” Ù†ØµÙ†Ø¹ Ù„Ø­Ø¸Ø§Øª.\n\n${n} ÙˆÙÙ„Ø¯Øª Ù…Ù† ${m} ÙˆØµØ¨Ø± ÙˆØ­Ø¨ Ø­Ù‚ÙŠÙ‚ÙŠ. Ù…Ù† Ø£ÙˆÙ„ Ù„Ù…Ø³Ø© Ø³ØªØ­Ø³ÙŠÙ† Ø¨Ø§Ù„ÙØ±Ù‚ â€” Ù‡Ø°Ù‡ Ù‚Ø·Ø¹Ø© ØªÙØ¹Ø§Ø´ØŒ Ù„Ø§ ØªÙØ­ÙØ¸ ÙÙŠ Ø±Ù. ${notes ? '\n\n' + notes : ''}\n\nØ§Ù„Ø³Ø¹Ø±: ${p} âœ¦ ØµÙÙ†Ø¹ Ø¨Ø§Ù„ÙŠØ¯ ÙÙŠ ÙÙ„Ø³Ø·ÙŠÙ†`,
  short: (n,c,m,p,notes) => `${n} â€” ${c}\n\n${m} Â· ØµÙ†Ø¹ ÙŠØ¯ÙˆÙŠ 100% Â· ÙØ±ÙŠØ¯ Ù„Ø§ ÙŠØªÙƒØ±Ø±\n\n${p} ${notes ? 'Â· ' + notes : ''}\n\nØªÙˆØµÙŠÙ„ Ù„ÙƒÙ„ Ø§Ù„Ø¯Ø§Ø®Ù„ Ø§Ù„ÙÙ„Ø³Ø·ÙŠÙ†ÙŠ ğŸšš`
};

function runDescAI() {
  const n = document.getElementById('dName').value || 'Ø§Ù„Ù…Ù†ØªØ¬';
  const c = document.getElementById('dCat').value || 'Ù…Ø¬Ù…ÙˆØ¹ØªÙ†Ø§';
  const m = document.getElementById('dMat').value || 'Ù…ÙˆØ§Ø¯ Ø·Ø¨ÙŠØ¹ÙŠØ©';
  const p = document.getElementById('dPrice').value || 'Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨';
  const notes = document.getElementById('dNotes').value;
  const tone = document.getElementById('dTone').value;

  const out = document.getElementById('descOut');
  out.textContent = 'âŸ³ Ø¬Ø§Ø±ÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙˆØµÙ...';
  out.classList.remove('has-content');

  setTimeout(() => {
    const text = descTemplates[tone](n, c, m, p, notes);
    out.textContent = '';
    let i = 0;
    const interval = setInterval(() => {
      out.textContent += text[i] || '';
      i++;
      if(i >= text.length) {
        clearInterval(interval);
        out.classList.add('has-content');
        const copyBtn = document.getElementById('descCopyBtn');
        copyBtn.classList.add('show');
      }
    }, 18);
  }, 800);
}

function copyDesc() {
  const text = document.getElementById('descOut').textContent;
  navigator.clipboard.writeText(text).then(() => toast('âœ“ ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙˆØµÙ!'));
}

// â”€â”€ ROOM VISUALIZER â”€â”€
let hasImg = false;
const prodNames = {
  mirage:'Mirage â€” Vanta', vesper:'Vesper â€” Veil',
  eclipse:'Eclipse â€” Shadow', nocturne:'Nocturne â€” Shadow',
  onyx:'Onyx â€” Obsidian', aurora:'Aurora â€” Lumi', ember:'Ember â€” Obsidian'
};
const prodImages = {
  mirage:'images/mirage.avif', vesper:'images/vesper.avif',
  eclipse:'images/eclipse.avif', nocturne:'images/nocturne.avif',
  onyx:'images/onyx.avif', aurora:'images/aurora.avif', ember:'images/ember.avif'
};
const roomRecs = {
  mirage:'Mirage ØªØ¶ÙŠÙ Ø¹Ù…Ù‚Ø§Ù‹ ØºØ§Ù…Ø¶Ø§Ù‹ ÙˆØ³Ø­Ø±Ø§Ù‹ Ù‡Ø§Ø¯Ø¦Ø§Ù‹ Ø¹Ù„Ù‰ Ø£ÙŠ Ø·Ø§ÙˆÙ„Ø© ÙÙŠ ØºØ±ÙØªÙƒ.',
  vesper:'Vesper Ø¨Ø´ÙƒÙ„Ù‡Ø§ Ø§Ù„Ù…Ù„ØªÙˆÙŠ Ø§Ù„ÙØ±ÙŠØ¯ Ø³ØªÙƒÙˆÙ† Ù†Ù‚Ø·Ø© Ø§Ù„Ø¬Ø°Ø¨ Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ Ø§Ù„Ù…ÙƒØ§Ù†.',
  eclipse:'Eclipse Ø¨Ù„ÙˆÙ†Ù‡Ø§ Ø§Ù„Ø¯Ø§ÙƒÙ† ØªÙ†Ø§Ø³Ø¨ Ø§Ù„Ø¯ÙŠÙƒÙˆØ± Ø§Ù„Ù…ÙŠÙ†ÙŠÙ…Ø§Ù„ ÙˆØªØ¶ÙŠÙ Ø£Ù†Ø§Ù‚Ø© ØµØ§Ù…ØªØ©.',
  nocturne:'Nocturne ØªØ®Ù„Ù‚ Ø¬ÙˆØ§Ù‹ Ù…Ù† Ø§Ù„ØºÙ…ÙˆØ¶ Ø§Ù„Ø±Ø§Ù‚ÙŠ â€” Ù…Ø«Ø§Ù„ÙŠØ© Ù„Ù„Ù…Ø³Ø§Ø­Ø§Øª Ø§Ù„Ù‡Ø§Ø¯Ø¦Ø©.',
  onyx:'Onyx Ø¨Ù†Ù‚Ø§Ø¦Ù‡Ø§ Ø§Ù„Ø£Ø³ÙˆØ¯ ØªØ¶ÙŠÙ Ù„Ù…Ø³Ø© ÙØ§Ø®Ø±Ø© Ù„Ø£ÙŠ Ø±ÙƒÙ† ÙÙŠ ØºØ±ÙØªÙƒ.',
  aurora:'Aurora Ø¨Ø¯ÙØ¦Ù‡Ø§ Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø³ØªØ­ÙˆÙ‘Ù„ Ø£ÙŠ Ø²Ø§ÙˆÙŠØ© Ù„Ù…Ø³Ø§Ø­Ø© Ù…Ø±ÙŠØ­Ø© ÙˆÙ…Ø¶ÙŠØ¦Ø©.',
  ember:'Ember ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø¯ÙØ¡ â€” Ø¬Ù…Ø§Ù„ Ø¨Ø±ÙƒØ§Ù†ÙŠ ÙÙŠ Ù‚Ù„Ø¨ ØºØ±ÙØªÙƒ.',
};

function handleImg(inp) {
  if(!inp.files[0]) return;
  const reader = new FileReader();
  reader.onload = e => {
    const prev = document.getElementById('roomPreview');
    prev.src = e.target.result;
    prev.style.display = 'block';
    document.getElementById('dropZone').style.display = 'none';
    hasImg = true;
    checkVisBtn();
  };
  reader.readAsDataURL(inp.files[0]);
}

document.querySelectorAll('input[name="rp"]').forEach(r => r.addEventListener('change', () => {
  document.querySelectorAll('.room-prod-opt').forEach(o => o.classList.remove('sel'));
  r.closest('.room-prod-opt').classList.add('sel');
  checkVisBtn();
}));

function checkVisBtn() {
  const selProd = document.querySelector('input[name="rp"]:checked');
  document.getElementById('visBtn').disabled = !(hasImg && selProd);
}

function runRoomAI() {
  const selProd = document.querySelector('input[name="rp"]:checked');
  if(!selProd || !hasImg) return;
  const btn = document.getElementById('visBtn');
  btn.disabled = true;
  btn.textContent = 'âŸ³ Ø§Ù„Ù€ AI ÙŠØ­Ù„Ù„ ØºØ±ÙØªÙƒ...';

  const result = document.getElementById('roomResult');
  result.classList.remove('show');

  setTimeout(() => {
    const pKey = selProd.value;
    const imgSrc = document.getElementById('roomPreview').src;
    const prodSrc = prodImages[pKey];

    // Before â€” room photo
    document.getElementById('beforeImg').innerHTML =
      `<img src="${imgSrc}" style="width:100%;height:100%;object-fit:cover;display:block">`;

    // After â€” room blurred as background + real product photo centered
    const afterDiv = document.getElementById('afterImg');
    afterDiv.innerHTML = `
      <img src="${imgSrc}" style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(0.35) blur(3px);transform:scale(1.06)">
      <div style="position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;height:100%;padding:18px;gap:10px">
        <img src="${prodSrc}" style="max-height:72%;max-width:70%;object-fit:contain;filter:drop-shadow(0 6px 28px rgba(0,0,0,0.75)) drop-shadow(0 0 18px rgba(201,168,76,0.25))">
        <span style="font-family:'Cormorant Garamond',serif;font-size:.8rem;letter-spacing:.2em;color:var(--gold);text-align:center">${prodNames[pKey]}</span>
      </div>`;

    document.getElementById('aiRoomRec').textContent = roomRecs[pKey];
    result.classList.add('show');
    result.scrollIntoView({behavior:'smooth', block:'start'});
    btn.disabled = false;
    btn.textContent = 'âœ¦ Ø¬Ø±Ù‘Ø¨ Ù…Ù†ØªØ¬ Ø«Ø§Ù†ÙŠ';
    toast('âœ“ ØªÙ… ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØºØ±ÙØ© Ø¨Ù†Ø¬Ø§Ø­!');
  }, 2200);
}

// â”€â”€ TOAST â”€â”€
function toast(msg) {
  const t = document.getElementById('toastEl');
  t.textContent = msg; t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2800);
}
</script>
</body>
</html>
